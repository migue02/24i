define(function(GoogleCustomSearch) {

    var responseImages = {
        "kind": "customsearch#search",
        "url": {
            "type": "application/json",
            "template": "https://www.googleapis.com/customsearch/v1?q={searchTerms}&num={count?}&sta…imgColorType={imgColorType?}&imgDominantColor={imgDominantColor?}&alt=json"
        },
        "queries": {
            "request": [{
                "title": "Google Custom Search - red",
                "totalResults": "412000000",
                "searchTerms": "red",
                "count": 10,
                "startIndex": 1,
                "inputEncoding": "utf8",
                "outputEncoding": "utf8",
                "safe": "off",
                "cx": "010392540248394977835:nhfejhgta08",
                "searchType": "image"
            }],
            "nextPage": [{
                "title": "Google Custom Search - red",
                "totalResults": "412000000",
                "searchTerms": "red",
                "count": 10,
                "startIndex": 11,
                "inputEncoding": "utf8",
                "outputEncoding": "utf8",
                "safe": "off",
                "cx": "010392540248394977835:nhfejhgta08",
                "searchType": "image"
            }]
        },
        "context": {
            "title": "Google.com"
        },
        "searchInformation": {
            "searchTime": 0.984451,
            "formattedSearchTime": "0.98",
            "totalResults": "412000000",
            "formattedTotalResults": "412,000,000"
        },
        "items": [{
            "kind": "customsearch#result",
            "title": "Lunar New Year 2017",
            "htmlTitle": "Lunar New Year 2017",
            "link": "https://www.google.com/logos/doodles/2016/childrens-day-2016-honduras-5999927895261184-hp2x.jpg",
            "displayLink": "www.google.com",
            "snippet": "Lunar New Year 2017",
            "htmlSnippet": "Lunar New Year 2017",
            "mime": "image/jpeg",
            "image": {
                "contextLink": "https://www.google.com/doodles/lunar-new-year-2017",
                "height": 400,
                "width": 1000,
                "byteSize": 160017,
                "thumbnailLink": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCpd8eluVvLkv0iJgY5BdDcVx-xzh5wQ_VMY5aukkAcQBXBQRrlV-iaN2U",
                "thumbnailHeight": 60,
                "thumbnailWidth": 149
            }
        }, {
            "kind": "customsearch#result",
            "title": "Google Chrome Privacy Whitepaper",
            "htmlTitle": "Google Chrome Privacy Whitepaper",
            "link": "https://www.google.com/chrome/assets/common/images/screenshots/privacy/03-malware.png",
            "displayLink": "www.google.com",
            "snippet": "Malware",
            "htmlSnippet": "Malware",
            "mime": "image/png",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/chrome/browser/privacy/whitepaper.html",
                "height": 459,
                "width": 473,
                "byteSize": 48995,
                "thumbnailLink": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmsHJf8UAf04RYYRok7f3v61EWsHmPEp75RKiajG2zOfvhiVY_PDpfliIq",
                "thumbnailHeight": 125,
                "thumbnailWidth": 129
            }
        }, {
            "kind": "customsearch#result",
            "title": "Street View Treks: Petra",
            "htmlTitle": "Street View Treks: Petra",
            "link": "https://www.google.com/maps/about/behind-the-scenes/streetview/treks/petra/images/og-image.jpg",
            "displayLink": "www.google.com",
            "snippet": "Street View Treks: Petra",
            "htmlSnippet": "Street View Treks: Petra",
            "mime": "image/jpeg",
            "image": {
                "contextLink": "https://www.google.com/maps/about/behind-the-scenes/streetview/treks/petra/",
                "height": 630,
                "width": 1200,
                "byteSize": 206982,
                "thumbnailLink": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRY4fI6MASsRFvrbFYtkk1PbN9LMdkfV1W84eyOleO-qnkpZdiQ9k1FM2xC",
                "thumbnailHeight": 79,
                "thumbnailWidth": 150
            }
        }, {
            "kind": "customsearch#result",
            "title": "Lunar New Year 2017",
            "htmlTitle": "Lunar New Year 2017",
            "link": "https://www.google.com/logos/doodles/2016/childrens-day-2016-honduras-5999927895261184-hp.jpg",
            "displayLink": "www.google.com",
            "snippet": "Lunar New Year 2017",
            "htmlSnippet": "Lunar New Year 2017",
            "mime": "image/jpeg",
            "image": {
                "contextLink": "https://www.google.com/doodles/lunar-new-year-2017",
                "height": 220,
                "width": 550,
                "byteSize": 58967,
                "thumbnailLink": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQuZZokvZNRQ-FIHhQOaDvp_IGEKam5NXnuhutv-d9f2Wf5_oumFwBGEm8",
                "thumbnailHeight": 53,
                "thumbnailWidth": 133
            }
        }, {
            "kind": "customsearch#result",
            "title": "Google Doodles",
            "htmlTitle": "Google Doodles",
            "link": "https://www.google.com/logos/doodles/2015/50th-anniversary-of-the-canadian-flag-5719089787961344.6-hp.gif",
            "displayLink": "www.google.com",
            "snippet": "Google Doodles",
            "htmlSnippet": "Google Doodles",
            "mime": "image/gif",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/doodles?hl=en-GB",
                "height": 220,
                "width": 700,
                "byteSize": 290554,
                "thumbnailLink": "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTCADu0fmoijIE3pPDD8eVl5EISL0Dd3RH6zCZiFMVcZOJVymAaqgkiU6g",
                "thumbnailHeight": 44,
                "thumbnailWidth": 140
            }
        }, {
            "kind": "customsearch#result",
            "title": "What it Takes to be Trusted – Google Street View",
            "htmlTitle": "What it Takes to be Trusted – Google Street View",
            "link": "https://www.google.com/streetview/images/earn/thumb-imagequality.png",
            "displayLink": "www.google.com",
            "snippet": "Image Quality",
            "htmlSnippet": "Image Quality",
            "mime": "image/png",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/streetview/earn/",
                "height": 232,
                "width": 371,
                "byteSize": 14276,
                "thumbnailLink": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRv6L5HFOLNxcaaNSfMpwOfk-EQSYMuIMwAB69zHZXNe04XMA8fdN9hj20",
                "thumbnailHeight": 76,
                "thumbnailWidth": 122
            }
        }, {
            "kind": "customsearch#result",
            "title": "Ismertető: – Google Térkép",
            "htmlTitle": "Ismertető: – Google Térkép",
            "link": "https://www.google.com/intl/hu/maps/about/images/home/home-benefits-4-2.jpg?mmfb=4f2d2db274d7c6fb429b94339237ba33",
            "displayLink": "www.google.com",
            "snippet": "Hagyja pihenni ujjait",
            "htmlSnippet": "Hagyja pihenni ujjait",
            "mime": "image/jpeg",
            "image": {
                "contextLink": "https://www.google.com/intl/hu/maps/about/",
                "height": 477,
                "width": 770,
                "byteSize": 24435,
                "thumbnailLink": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTHFmNOVG8QqET-04RaTxfz_Qh9a6tTFUXNvMRgUdvcSoqbVxvjF3SRPSfV",
                "thumbnailHeight": 88,
                "thumbnailWidth": 142
            }
        }, {
            "kind": "customsearch#result",
            "title": "What it Takes to be Trusted – Google Street View",
            "htmlTitle": "What it Takes to be Trusted – Google Street View",
            "link": "https://www.google.com/streetview/images/earn/thumb-connectivity.png",
            "displayLink": "www.google.com",
            "snippet": "Connectivity",
            "htmlSnippet": "Connectivity",
            "mime": "image/png",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/streetview/earn/",
                "height": 232,
                "width": 371,
                "byteSize": 4886,
                "thumbnailLink": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQbrB0fyTtCjDm-zlkGNM_92_A2qQJb8A15fFdPdrMYXfukDQ5lfAJrmJE",
                "thumbnailHeight": 76,
                "thumbnailWidth": 122
            }
        }, {
            "kind": "customsearch#result",
            "title": "Google AdMob - Mobile App Monetization & In App Advertising ...",
            "htmlTitle": "Google AdMob - Mobile App Monetization &amp; In App Advertising ...",
            "link": "https://www.google.com/admob/images/animations/icon-wallet.png",
            "displayLink": "www.google.com",
            "snippet": "$1 billion+ paid to developers",
            "htmlSnippet": "$1 billion+ paid to developers",
            "mime": "image/png",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/admob/",
                "height": 212,
                "width": 263,
                "byteSize": 4696,
                "thumbnailLink": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSm8ELwggwt_lOEkpzHHtOMBZ_-IT3M6LWyRhYhG0CcrA6cTHKkajPIzL0",
                "thumbnailHeight": 90,
                "thumbnailWidth": 112
            }
        }, {
            "kind": "customsearch#result",
            "title": "What it Takes to be Trusted – Google Street View",
            "htmlTitle": "What it Takes to be Trusted – Google Street View",
            "link": "https://www.google.com/streetview/images/earn/thumb-appropriateness.png",
            "displayLink": "www.google.com",
            "snippet": "Appropriateness",
            "htmlSnippet": "Appropriateness",
            "mime": "image/png",
            "fileFormat": "Image Document",
            "image": {
                "contextLink": "https://www.google.com/streetview/earn/",
                "height": 232,
                "width": 371,
                "byteSize": 11022,
                "thumbnailLink": "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQ74P8reu6BtRF4N1GPr2sVZcR5RGFajsIAd3etKxt6FM0-MHJ0OEH7n2M",
                "thumbnailHeight": 76,
                "thumbnailWidth": 122
            }
        }]
    };

    var responseFixed = {
        "kind": "customsearch#search",
        "url": {
            "type": "application/json",
            "template": "https://www.googleapis.com/customsearch/v1?q={searchTerms}&num={count?}&start={startIndex?}&lr={language?}&safe={safe?}&cx={cx?}&cref={cref?}&sort={sort?}&filter={filter?}&gl={gl?}&cr={cr?}&googlehost={googleHost?}&c2coff={disableCnTwTranslation?}&hq={hq?}&hl={hl?}&siteSearch={siteSearch?}&siteSearchFilter={siteSearchFilter?}&exactTerms={exactTerms?}&excludeTerms={excludeTerms?}&linkSite={linkSite?}&orTerms={orTerms?}&relatedSite={relatedSite?}&dateRestrict={dateRestrict?}&lowRange={lowRange?}&highRange={highRange?}&searchType={searchType}&fileType={fileType?}&rights={rights?}&imgSize={imgSize?}&imgType={imgType?}&imgColorType={imgColorType?}&imgDominantColor={imgDominantColor?}&alt=json"
        },
        "queries": {
            "request": [{
                "title": "Google Custom Search - Hola",
                "totalResults": "38500000",
                "searchTerms": "Hola",
                "count": 10,
                "startIndex": 1,
                "inputEncoding": "utf8",
                "outputEncoding": "utf8",
                "safe": "off",
                "cx": "010392540248394977835:nhfejhgta08"
            }],
            "nextPage": [{
                "title": "Google Custom Search - Hola",
                "totalResults": "38500000",
                "searchTerms": "Hola",
                "count": 10,
                "startIndex": 11,
                "inputEncoding": "utf8",
                "outputEncoding": "utf8",
                "safe": "off",
                "cx": "010392540248394977835:nhfejhgta08"
            }]
        },
        "context": {
            "title": "Google.es"
        },
        "searchInformation": {
            "searchTime": 1.134918,
            "formattedSearchTime": "1.13",
            "totalResults": "38500000",
            "formattedTotalResults": "38,500,000"
        },
        "items": [{
            "kind": "customsearch#result",
            "title": "Holco Mort. Accpt Corp. I: OTCMKTS:HOLA quotes & news - Google ...",
            "htmlTitle": "Holco Mort. Accpt Corp. I: OTCMKTS:<b>HOLA</b> quotes &amp; news - Google ...",
            "link": "http://www.google.com/finance?cid=12677616",
            "displayLink": "www.google.com",
            "snippet": "Get detailed financial information on Holco Mort. Accpt Corp. I (OTCMKTS:HOLA) \nincluding real-time stock quotes, historical charts & financial news, all for free!",
            "htmlSnippet": "Get detailed financial information on Holco Mort. Accpt Corp. I (OTCMKTS:<b>HOLA</b>) <br>\nincluding real-time stock quotes, historical charts &amp; financial news, all for free!",
            "cacheId": "Fb0XmBcshIsJ",
            "formattedUrl": "www.google.com/finance?cid=12677616",
            "htmlFormattedUrl": "www.google.com/finance?cid=12677616",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "272",
                    "height": "186",
                    "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQduyps7tY3tydJ54P51IkW0DJmsHzpvt2gXdZrGuhph4Yo1bCX0Sgpxjow"
                }],
                "financialquote": [{
                    "name": "Holco Mort. Accpt Corp. I",
                    "url": "https://www.google.com/finance?cid=12677616",
                    "imageurl": "https://www.google.com/finance/chart?cht=g&q=OTCMKTS:HOLA&tkr=1&p=1d&enddatetime=2013-01-04T13:59:04Z",
                    "tickersymbol": "HOLA",
                    "exchange": "OTCMKTS",
                    "exchangetimezone": "America/New_York",
                    "price": "0.0005",
                    "quotetime": "2013-01-04T13:59:04Z",
                    "datasource": "OTCMKTS data delayed by 15 mins",
                    "datasourcedisclaimerurl": "//www.google.com/intl/en-US/help/stock_disclaimer.html",
                    "pricecurrency": "USD"
                }],
                "cse_image": [{
                    "src": "http://www.google.com/finance/getchart?q=HOLA&x=OTCMKTS&p=3d&i=240&ei=88iBWOG8C47kjAHjhLKgCQ"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "HOLA Alumni College Map",
            "htmlTitle": "<b>HOLA</b> Alumni College Map",
            "link": "https://www.google.com/mymaps/viewer?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en",
            "displayLink": "www.google.com",
            "snippet": "Click on one of the blue pins to see colleges and universities attended by HOLA \nalumni.",
            "htmlSnippet": "Click on one of the blue pins to see colleges and universities attended by <b>HOLA</b> <br>\nalumni.",
            "cacheId": "GfymafrcY64J",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid...hl=en",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid...hl=en",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "221",
                    "height": "228",
                    "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVLIyPbMeZsyL5ROg_oZbz-kVsWR9DyhTlq8joqPaF38V0whBHsqb4ZMVT"
                }],
                "website": [{
                    "name": "HOLA Alumni College Map",
                    "description": "Click on one of the blue pins to see colleges and universities attended by HOLA alumni",
                    "url": "https://www.google.com/maps/d/viewer?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "HOLA Alumni College Map",
                    "og:description": "Click on one of the blue pins to see colleges and universities attended by HOLA alumni",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "HOLA Alumni College Map",
                    "twitter:description": "Click on one of the blue pins to see colleges and universities attended by HOLA alumni",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en"
                }],
                "cse_image": [{
                    "src": "https://www.google.com/maps/d/thumbnail?mid=1LkbAhhWs2XBgaffx7BnrTtf9daw&hl=en"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Hola!",
            "htmlTitle": "<b>Hola</b>!",
            "link": "https://www.google.com/mymaps/viewer?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US",
            "displayLink": "www.google.com",
            "snippet": "Hola!",
            "htmlSnippet": "<b>Hola</b>!",
            "cacheId": "vjmUGGZTrEoJ",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid=1...hl=en_US",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid=1...hl=en_US",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "204",
                    "height": "204",
                    "src": "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTzYEzWbknYuvvn_MArhc4tS-IaN22gwNHL1gqw7iMmAm8FCQ5nK5GgOWk"
                }],
                "website": [{
                    "name": "Hola!",
                    "description": "Hola!",
                    "url": "https://www.google.com/maps/d/viewer?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "Hola!",
                    "og:description": "Hola!",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "Hola!",
                    "twitter:description": "Hola!",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1-x21Y5CYceNJKk0pHNOhklX6aLU&hl=en_US"
                }],
                "cse_image": [{
                    "src": "https://khms0.googleapis.com/kh?v=715&hl=en&&x=2574&y=3855&z=13"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Diversity - Google",
            "htmlTitle": "Diversity - Google",
            "link": "https://www.google.com/diversity/at-google.html",
            "displayLink": "www.google.com",
            "snippet": "We're raising awareness around unconscious bias and fostering an environment \nwhere every Googler can thrive.",
            "htmlSnippet": "We&#39;re raising awareness around unconscious bias and fostering an environment <br>\nwhere every Googler can thrive.",
            "cacheId": "S4KPVRDyOXYJ",
            "formattedUrl": "https://www.google.com/diversity/at-google.html",
            "htmlFormattedUrl": "https://www.google.com/diversity/at-google.html",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "310",
                    "height": "163",
                    "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYFZvFfz6am9VWizceXQdqvhNhzTEMx_k6eSokW5kit7yy1ixmYxtbyPg"
                }],
                "metatags": [{
                    "viewport": "width=device-width, initial-scale=1.0, user-scalable=no",
                    "theme-color": "#139d58",
                    "og:title": "Diversity - Google",
                    "og:type": "article",
                    "og:url": "https://www.google.com/diversity",
                    "og:image": "https://www.google.com/diversity/img/social/google-diversity.jpg",
                    "og:description": "We're raising awareness around unconscious bias and fostering an environment where every Googler can thrive.",
                    "twitter:card": "summary_large_image",
                    "twitter:site": "@google",
                    "twitter:creator": "@google",
                    "twitter:title": "Diversity - Google",
                    "twitter:description": "We're raising awareness around unconscious bias and fostering an environment where every Googler can thrive.",
                    "twitter:image:src": "https://www.google.com/diversity/img/social/google-diversity.jpg",
                    "msapplication-tilecolor": "#da532c"
                }],
                "cse_image": [{
                    "src": "https://www.google.com/diversity/img/social/google-diversity.jpg"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Find Hola Worldwide Agents",
            "htmlTitle": "Find <b>Hola</b> Worldwide Agents",
            "link": "https://www.google.com/mymaps/viewer?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US",
            "displayLink": "www.google.com",
            "snippet": "Hola East US Agent. Hola Brazil Agent. Hola France Agent. Hola UK Agent. Hola \nGermany Agent. Hola Finland Agent. Hola Sadia Arabia Agent. Hola Egypt ...",
            "htmlSnippet": "<b>Hola</b> East US Agent. <b>Hola</b> Brazil Agent. <b>Hola</b> France Agent. <b>Hola</b> UK Agent. <b>Hola</b> <br>\nGermany Agent. <b>Hola</b> Finland Agent. <b>Hola</b> Sadia Arabia Agent. <b>Hola</b> Egypt&nbsp;...",
            "cacheId": "DC59Z5sYmgkJ",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid=1NFrj6O2bt4...",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid=1NFrj6O2bt4...",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "204",
                    "height": "204",
                    "src": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTCV7dQP5kU9YaJBiCTK-2iGIMD5ktaBDCF-b7NBkXJ1mA7Dy85UoXkVVA"
                }],
                "website": [{
                    "name": "Find Hola Worldwide Agents",
                    "description": "Find Hola Worldwide Agents here",
                    "url": "https://www.google.com/maps/d/viewer?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "Find Hola Worldwide Agents",
                    "og:description": "Find Hola Worldwide Agents here",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "Find Hola Worldwide Agents",
                    "twitter:description": "Find Hola Worldwide Agents here",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1NFrj6O2bt4_41r3qLd1dV8vv7uc&hl=en_US"
                }],
                "cse_image": [{
                    "src": "https://khms0.googleapis.com/kh?v=715&hl=en&&x=0&y=0&z=0"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Latiborsak hola",
            "htmlTitle": "Latiborsak <b>hola</b>",
            "link": "https://www.google.com/mymaps/viewer?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu",
            "displayLink": "www.google.com",
            "snippet": "Latiborsak hola. ... Magurka. Zámostska hola. Latiborska hola. Velka hola. Skalka\n. Térképadatok. ©2017 Google - Térképadatok. Általános Szerződési Feltételek.",
            "htmlSnippet": "Latiborsak <b>hola</b>. ... Magurka. Zámostska <b>hola</b>. Latiborska <b>hola</b>. Velka <b>hola</b>. Skalka<br>\n. Térképadatok. ©2017 Google - Térképadatok. Általános Szerződési Feltételek.",
            "cacheId": "6UeWIXyAZ-UJ",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid...8&hl=hu",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid...8&amp;hl=hu",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "204",
                    "height": "204",
                    "src": "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQjQEDE7NnCTEtOxH3LGschT40P7D5PXl3szBfmBHT7EIWibH_s3wHV0w3X"
                }],
                "website": [{
                    "name": "Latiborsak hola",
                    "description": "Latiborsak hola",
                    "url": "https://www.google.com/maps/d/viewer?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "Latiborsak hola",
                    "og:description": "Latiborsak hola",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "Latiborsak hola",
                    "twitter:description": "Latiborsak hola",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1stQkv8bPPlCx6MHq8HudwgOkE_8&hl=hu"
                }],
                "cse_image": [{
                    "src": "https://khms1.googleapis.com/kh?v=715&hl=hu&&x=141&y=88&z=8"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
            "htmlTitle": "Shop 53, Re-A-<b>Hola</b> Shopping Centre, Erf 161, Botshabelo",
            "link": "https://www.google.com/mymaps/viewer?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en",
            "displayLink": "www.google.com",
            "snippet": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo.",
            "htmlSnippet": "Shop 53, Re-A-<b>Hola</b> Shopping Centre, Erf 161, Botshabelo.",
            "cacheId": "4II3hwnnuR4J",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid=1mTdL-BcpV...",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid=1mTdL-BcpV...",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "221",
                    "height": "228",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTixYeHycHxLN-C3cqIgN2d-8hx40_RomwA9CbFHNtLKIjKysWI13nVvlwn"
                }],
                "website": [{
                    "name": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "description": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "url": "https://www.google.com/maps/d/viewer?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "og:description": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "twitter:description": "Shop 53, Re-A-Hola Shopping Centre, Erf 161, Botshabelo",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en"
                }],
                "cse_image": [{
                    "src": "https://www.google.com/maps/d/thumbnail?mid=1mTdL-BcpV-rnaTdbJzGvdtuyYmo&hl=en"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Holco Mort. Accpt Corp. I: OTCMKTS:HOLA historical prices ...",
            "htmlTitle": "Holco Mort. Accpt Corp. I: OTCMKTS:<b>HOLA</b> historical prices ...",
            "link": "http://www.google.com/finance/historical?q=OTCMKTS:HOLA&ei=1oqGUYDhM4XmqAHGZA",
            "displayLink": "www.google.com",
            "snippet": "Review and download historical prices and charts for Holco Mort. Accpt Corp. I(\nOTCMKTS:HOLA).",
            "htmlSnippet": "Review and download historical prices and charts for Holco Mort. Accpt Corp. I(<br>\nOTCMKTS:<b>HOLA</b>).",
            "cacheId": "YscBRzWzEWUJ",
            "formattedUrl": "www.google.com/finance/historical?q=OTCMKTS:HOLA&ei...",
            "htmlFormattedUrl": "www.google.com/finance/historical?q=OTCMKTS:<b>HOLA</b>&amp;ei..."
        }, {
            "kind": "customsearch#result",
            "title": "¡Hola China! ENCUÉNTRALO 你好中国搜一下(Hospitales, 医院)",
            "htmlTitle": "¡<b>Hola</b> China! ENCUÉNTRALO 你好中国搜一下(Hospitales, 医院)",
            "link": "https://www.google.com/mymaps/viewer?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US",
            "displayLink": "www.google.com",
            "snippet": "Principales Hospitales en Shanghai 上海最权威的医院.",
            "htmlSnippet": "Principales Hospitales en Shanghai 上海最权威的医院.",
            "cacheId": "vkdbjWJCPXIJ",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid=1O7sckxBbz...",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid=1O7sckxBbz...",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "96",
                    "height": "96",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS3IpsrGcburulg84Kcnfi6TTzH2fX-CxzklpjZp4XUPsYAPi9PjZiq"
                }],
                "website": [{
                    "name": "¡Hola China! ENCUÉNTRALO 你好中国 搜一下(Hospitales, 医院)",
                    "description": "Principales Hospitales en Shanghai 上海最权威的医院",
                    "url": "https://www.google.com/maps/d/viewer?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "¡Hola China! ENCUÉNTRALO 你好中国 搜一下 (Hospitales, 医院)",
                    "og:description": "Principales Hospitales en Shanghai 上海最权威的医院",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "¡Hola China! ENCUÉNTRALO 你好中国 搜一下 (Hospitales, 医院)",
                    "twitter:description": "Principales Hospitales en Shanghai 上海最权威的医院",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US"
                }],
                "cse_image": [{
                    "src": "https://www.google.com/maps/d/thumbnail?mid=1O7sckxBbz_Vmr_ry_LoIOvvukJg&hl=en_US"
                }]
            }
        }, {
            "kind": "customsearch#result",
            "title": "Kafe Hola, Batu Uban, Penang",
            "htmlTitle": "Kafe <b>Hola</b>, Batu Uban, Penang",
            "link": "https://www.google.com/mymaps/viewer?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US",
            "displayLink": "www.google.com",
            "snippet": "Kafe Hola, Batu Uban, Penang. ... Kafe Hola, Batu Uban, Penang. Collapse map \nlegend. Map details. Copy map. Print map. Zoom to viewport. Embed map.",
            "htmlSnippet": "Kafe <b>Hola</b>, Batu Uban, Penang. ... Kafe <b>Hola</b>, Batu Uban, Penang. Collapse map <br>\nlegend. Map details. Copy map. Print map. Zoom to viewport. Embed map.",
            "cacheId": "Oaib76siDpYJ",
            "formattedUrl": "https://www.google.com/mymaps/viewer?mid...hl=en_US",
            "htmlFormattedUrl": "https://www.google.com/mymaps/viewer?mid...hl=en_US",
            "pagemap": {
                "cse_thumbnail": [{
                    "width": "221",
                    "height": "228",
                    "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR0ZKCy1XiS8cXbU90MUaCpqmdH0NjiPmz_gLo0IltFWlTN_1iEPv4GsBo"
                }],
                "website": [{
                    "name": "Kafe Hola, Batu Uban, Penang",
                    "description": "Kafe Hola, Batu Uban, Penang",
                    "url": "https://www.google.com/maps/d/viewer?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US",
                    "image": "https://www.google.com/maps/d/thumbnail?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US"
                }],
                "metatags": [{
                    "viewport": "initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width",
                    "og:type": "website",
                    "og:title": "Kafe Hola, Batu Uban, Penang",
                    "og:description": "Kafe Hola, Batu Uban, Penang",
                    "og:url": "https://www.google.com/maps/d/viewer?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US",
                    "og:image": "https://www.google.com/maps/d/thumbnail?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US",
                    "twitter:card": "summary_large_image",
                    "twitter:title": "Kafe Hola, Batu Uban, Penang",
                    "twitter:description": "Kafe Hola, Batu Uban, Penang",
                    "twitter:image:src": "https://www.google.com/maps/d/thumbnail?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US"
                }],
                "cse_image": [{
                    "src": "https://www.google.com/maps/d/thumbnail?mid=1vNRLCKeFzIkvh8fAaqXb37r8m8Q&hl=en_US"
                }]
            }
        }]
    };
    var GoogleCustomSearch = {
        doSearch: doSearch
    };

    return GoogleCustomSearch;

    /////////////////////////////////////////////


    function doSearch(query, start, count, searchType) {
        var searchUrl = 'https://www.googleapis.com/customsearch/v1',
            searchParams = {
                key: 'AIzaSyAOc6SKyG4SUUsMc6tkdel5Fm5Dhw7c-fw',
                //key: 'AIzaSyBIS7VN1Ro1IN_R4rsyaMenrPrsFwke7JI',
                //key: 'AIzaSyBvTHkbp8F62bEMIAhef8-CE_tJPZFhI1Y',
                cx: '010392540248394977835:nhfejhgta08',
                q: encodeURIComponent(query),
                start: start,
                num: count
            };
        if (searchType) {
            searchParams.searchType = searchType;
        }

        var promise = new Promise(
            function(resolve, reject) {
                /*var response = responseFixed;
                if (searchType) {
                    response = responseImages;
                }
                self.results = response.items;
                self.totalResults = response.searchInformation.totalResults;
                if (response.queries) {
                    if (response.queries.nextPage) {
                        self.nextIndex = response.queries.nextPage.startIndex;
                    }
                    if (response.queries.previousPage) {
                        self.previousIndex = response.queries.previousPage.startIndex;
                    }
                }
                resolve(response);
                */
                var request = new XMLHttpRequest();
                request.open('GET', searchUrl + '?' + objectToQueryString(searchParams));
                request.responseType = 'json';
                request.onreadystatechange = function() {
                    if (request.readyState === 4) {
                        var response = request.response;
                        if (request.status !== 200) {
                            rejectError(request.response, reject);
                            return;
                        }
                        if (!response) {
                            reject("loading error");
                        } else if (response.error) {
                            reject(response.error.message);
                        } else {
                            resolve(response);
                        }
                    }
                };
                request.onerror = function() {
                    rejectError(request.response, reject);
                };
                request.send();
            });
        return promise;
    }

    function rejectError(response, reject) {
        if (!response) {
            reject("network error");
        } else if (response.error) {
            var error = "<b>Code:</b> " + response.error.code + " <b>Message:</b> " + response.error.message;
            if (response.error.errors && response.error.errors.length > 0) {
                error = error + " <b>Reason:</b> " + response.error.errors[0].reason;
            }
            reject(error);
        } else {
            reject("network error");
        }
    }

    // object to query string
    function objectToQueryString(object) {
        var fld,
            paramPairStr = '',
            paramsPairs = [];

        for (fld in object) {
            paramPairStr = fld + '=' + encodeURIComponent(object[fld]);
            paramsPairs.push(paramPairStr);
        }

        return paramsPairs.join('&');
    }

});